<!DOCTYPE html>
<html lang="he">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>פרופיל משתמש</title>
    <link rel="stylesheet" href="styles/main.css">
</head>
<body>
    <h1>פרופיל משתמש</h1>

    <!-- פרטי משתמש -->
    <section>
        <h2>פרטי משתמש</h2>
        <p><strong>שם משתמש:</strong> <span id="username">טוען...</span></p>
        <p><strong>אימייל:</strong> <span id="email">טוען...</span></p>
    </section>

    <!-- תורים עתידיים -->
    <section>
        <h2>תורים עתידיים</h2>
        <ul id="appointments-list">
            <li>טוען תורים...</li>
        </ul>
    </section>

    <!-- הוספת תור חדש -->
    <h2>הוספת תור חדש</h2>
    <form id="appointmentForm">
        <label for="businessSelect">בחר עסק:</label>
        <select id="businessSelect">
            <option value="">בחר עסק</option>
        </select>
    
        <label for="serviceSelect">בחר שירות:</label>
        <select id="serviceSelect" disabled>
            <option value="">בחר שירות</option>
        </select>
    
        <label for="employeeSelect">בחר עובד:</label>
        <select id="employeeSelect" disabled>
            <option value="">בחר עובד</option>
        </select>

        <label for="dateSelect">בחר תאריך:</label>
        <select id="dateSelect" disabled>
            <option value="">בחר תאריך</option>
        </select>
    
        <label for="timeSlotSelect">בחר חלון זמן:</label>
        <select id="timeSlotSelect" disabled>
            <option value="">בחר חלון זמן</option>
        </select>
    
        <button id="checkPriceButton" type="button">בדוק מחיר</button>
        <span id="appointmentPrice">מחיר כולל: 0 ₪</span>
        <button type="button" id="addAppointmentButton">הוסף תור</button>
    </form>
    
    <h1>אזור מנהלים</h1>
    <!-- אזור מנהלים -->
    <section id="adminSection" style="display: none;">
        <div>
            <h2>הוספת לקוח</h2>
            <!-- טופס להוספת/הסרת לקוח -->
            <form id="addClientForm">
                <label for="clientEmail">מייל של הלקוח:</label>
                <input type="email" id="clientEmail" required />
                <button type="submit">הוסף לקוח</button>
                <button type="button" id="removeClientButton">הסר לקוח</button>
            </form>
        
            <!-- כפתור להצגת/הסתרת רשימת לקוחות -->
            <button id="toggleClientsButton">הצג לקוחות</button>
        
            <!-- רשימת הלקוחות -->
            <ul id="clientsList" style="display: none;"></ul>
        </div>

        <!-- הוספת עובד -->
        <section>
            <h2>הוספת עובד</h2>
            <form id="addEmployeeForm">
                <label for="employeeName">שם העובד:</label>
                <input type="text" id="employeeName" required>
                <button type="submit">הוסף עובד</button>
            </form>
        </section>

        <!-- הוספת חלונות זמן -->
        <section>
            <h2>הוספת חלונות זמן</h2>
            <form id="addTimeSlotForm">
                <label for="service2">שירות:</label>
                <input type="text" id="service2" required>
                <label for="employee2">עובד:</label>
                <input type="text" id="employee2" required>
                <label for="date">תאריך:</label>
                <input type="date" id="date2" required>
                <label for="startTime">שעת התחלה:</label>
                <input type="time" id="startTime" required>
                <label for="endTime">שעת סיום:</label>
                <input type="time" id="endTime" required>
                <label for="duration">משך זמן(בדקות):</label>
                <input type="number" id="duration" required>
                <label for="price">מחיר:</label>
                <input type="number" id="price" required>
                <button type="submit">הוסף חלונות זמן</button>
            </form>
        </section>

        <section>
            <h2>ניהול חלונות זמן</h2>
            <label for="filterDate">סינון לפי תאריך:</label>
            <input type="date" id="filterDate">
            <label for="filterEmployee">סינון לפי שם עובד:</label>
            <input type="text" id="filterEmployee" placeholder="שם עובד">
            <button id="applyFiltersButton">סנן</button>
            <table>
                <thead>
                    <tr>
                        <th>תאריך</th>
                        <th>שעה</th>
                        <th>שם עובד</th>
                        <th>שירות</th>
                        <th>מחיר</th>
                        <th>משך (דקות)</th>
                        <th>סטטוס</th>
                        <th>פעולות</th>
                    </tr>
                </thead>
                <tbody id="timeSlotsTableBody">
                    <!-- השורות ייווצרו דינמית -->
                </tbody>
            </table>
        </section>

        <section>
            <h2>רשימת עובדים</h2>
            <ul id="employeesList">
                <!-- רשימת העובדים תתווסף כאן -->
            </ul>
        </section>

        <section>
            <h2>פרטי העסק</h2>
            <p><strong>שם העסק:</strong> <span id="businessName">טוען...</span></p>
        </section>

    </section>

    <button id="logoutButton">התנתק</button>

    <footer>
        <p>&copy; 2024 TimeMaster. כל הזכויות שמורות.</p>
    </footer>

    <script type="module" src="./scripts/userProfile.js"></script>
</body>
</html>
